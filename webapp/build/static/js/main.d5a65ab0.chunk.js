(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(64)},26:function(e,t,a){},28:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(13),l=a.n(i),o=a(3),r=a(4),s=a(6),u=a(5),m=a(7),d=a(1),h=(a(26),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onMenuClick=a.onMenuClick.bind(Object(d.a)(Object(d.a)(a))),a.state={open:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onMenuClick",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"menu"},c.a.createElement("button",{className:"cn-button",id:"cn-button",onClick:this.onMenuClick},this.state.open?c.a.createElement("i",{className:"fas fa-times"}):c.a.createElement("i",{className:"fas fa-bars"})),c.a.createElement("div",{className:"cn-wrapper "+(this.state.open?"opened-nav":""),id:"cn-wrapper"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:function(){return e.props.changeMenu("HOME")}},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-home"})))),c.a.createElement("li",null,c.a.createElement("a",{href:"#",onClick:function(){return e.props.changeMenu("VOTE")}},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-person-booth"})))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.facebook.com/highlite.news",target:"_blank"},c.a.createElement("span",null,c.a.createElement("i",{className:"fab fa-facebook",style:{color:"#3B5998"}})))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://twitter.com/highlitenews",target:"_blank"},c.a.createElement("span",null,c.a.createElement("i",{className:"fab fa-twitter",style:{color:"#1DA1F2"}})))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.instagram.com/highlite.news/?hl=en",target:"_blank"},c.a.createElement("span",null,c.a.createElement("i",{className:"fab fa-instagram",style:{color:"#8a3ab9"}})))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://tiktok.com/@highlite.news",target:"_blank"},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-music",style:{color:"#EE1D52"}})))),c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.snapchat.com/add/highlite.news",target:"_blank"},c.a.createElement("span",null,c.a.createElement("i",{className:"fab fa-snapchat-ghost",style:{color:"#000000"}})))))))}}]),t}(c.a.Component)),v=a(10),f=(a(28),a(9)),p=a.n(f),E=a(11);function g(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||""===window.location.hostname?"http://127.0.0.1:5002/":"http://"+window.location.hostname+"/"}function b(e,t,a,n){return N.apply(this,arguments)}function N(){return(N=Object(E.a)(p.a.mark(function e(t,a,n,c){var i=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(g()+t,{method:"GET",headers:new Headers({Accept:"application/json, text/html",credentials:"include",pragma:"no-cache","cache-control":"no-cache"})}).then(function(e){if(200===e.status)return e.json();403===e.status?window.location.replace("/?status=expiredSession"):null!=n?n(e):i.props.alert.error(e.statusText)}).then(function(e){"undefined"!==typeof e&&a(e)}).catch(function(e){c(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return(w=Object(E.a)(p.a.mark(function e(t,a,n,c){var i=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(g()+t,{method:"GET",headers:new Headers({Accept:"application/json, text/html",credentials:"include",pragma:"no-cache","cache-control":"no-cache"})}).then(function(e){if(200===e.status)return e.blob();403===e.status?window.location.replace("/?status=expiredSession"):null!=n?n(e):i.props.alert.error(e.statusText)}).then(function(e){"undefined"!==typeof e&&a(e)}).catch(function(e){c(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){return(j=Object(E.a)(p.a.mark(function e(t,a,n,c,i){var l=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(g()+t,{method:"POST",body:JSON.stringify(a),headers:new Headers({Accept:"application/json, text/html","Content-Type":"application/json",credentials:"include"})}).then(function(e){200===e.status?n():403===e.status?window.location.replace("/?status=expiredSession"):null!=c?c(e):l.props.alert.error(e.statusText)}).catch(function(e){i(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(32),a(34);var k=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"spinner"},c.a.createElement("div",{className:"double-bounce1"}),c.a.createElement("div",{className:"double-bounce2"})))}}]),t}(c.a.Component),O=(a(36),a(2)),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).vote=a.vote.bind(Object(d.a)(Object(d.a)(a))),a.state={voteCount:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"vote",value:function(){var e=this,t={article_id:this.props.a.id};(function(e,t,a,n,c){return j.apply(this,arguments)}).call(this,"r/vote",t,function(){O.NotificationManager.info("Le vote a \xe9t\xe9 comptabilis\xe9"),b.call(e,"r/get_votes_of_article?article_id="+e.props.a.id,function(t){e.setState({voteCount:t})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})}},{key:"hasVote",value:function(){return"undefined"!==typeof this.props.a.nb_vote}},{key:"getTextSize",value:function(){return this.hasVote()?"8":"10"}},{key:"render",value:function(){return c.a.createElement("div",{className:"Article"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-2 col-md-12 Article-image"},c.a.createElement("img",{className:"Article-image-img",src:this.props.a.image_url})),c.a.createElement("div",{className:"col-lg-"+this.getTextSize()+" col-md-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"Article-title title3"},this.props.a.title)),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-6"},c.a.createElement("div",{className:"Article-category title4"},this.props.a.source)),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-6"},c.a.createElement("div",{className:"Article-links"},null!==this.props.a.url?c.a.createElement("a",{href:this.props.a.url,target:"_blank"},"Aller sur l'article"):"")))),this.hasVote()?c.a.createElement("div",{className:"col-lg-2 col-md-12"},c.a.createElement("div",{className:"Article-vote "+(null===this.state.voteCount?"":"Article-vote-done"),onClick:this.vote},c.a.createElement("i",{class:"fas fa-vote-yea"}),c.a.createElement("div",null,null===this.state.voteCount?this.props.a.nb_vote:this.state.voteCount))):""))}}]),t}(c.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onArticleLinkClick=a.onArticleLinkClick.bind(Object(d.a)(Object(d.a)(a))),a.state={articles:null,opened:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"onArticleLinkClick",value:function(e){var t=this;null==this.state.articles&&b.call(this,"r/get_articles_of_video?video_id="+e,function(e){t.setState({articles:e})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)});var a=!this.state.opened;this.setState({opened:a})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Video"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-xs-12 Video-video"},c.a.createElement("img",{src:"img/background_"+this.props.v.category.replace(" ","")+".jpg"})),c.a.createElement("div",{className:"col-md-8 col-xs-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement("div",{className:"Video-title title3"},this.props.v.title)),c.a.createElement("div",{className:"col-md-12 col-xs-12 col-12"},c.a.createElement("div",{className:"Video-category title4"},this.props.v.category)),c.a.createElement("div",{className:"col-md-6 col-xs-6 col-6"},c.a.createElement("div",{className:"Video-link"},null!==this.props.v.youtube_id?c.a.createElement("a",{href:"https://youtube.com/watch?v="+this.props.v.youtube_id,target:"_blank"},"Voir la vid\xe9o"):"")),c.a.createElement("div",{className:"col-md-6 col-xs-6 col-6"},c.a.createElement("div",{className:"Video-article-link"},null!==this.props.v.youtube_id?c.a.createElement("a",{onClick:function(){return e.onArticleLinkClick(e.props.v.id)},href:"#"},this.state.opened?"Cacher les articles":"Voir les articles"):""))))),this.state.opened?c.a.createElement("div",{className:"Video-articles"},null===this.state.articles?c.a.createElement("div",{className:"Video-loading-articles"},c.a.createElement(k,null)):0===this.state.articles.length?c.a.createElement("div",{className:"Video-loading-articles"},c.a.createElement("div",{className:"Video-no-article title3"},"Pas d'article trouv\xe9")):this.state.articles.map(function(e){return c.a.createElement(y,{a:e})})):"")}}]),t}(c.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getDates=a.getDates.bind(Object(d.a)(Object(d.a)(a))),a.state={videos:null,selectedVideo:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.call(this,"r/get_videos",function(t){e.setState({videos:t})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})}},{key:"getDates",value:function(){return Object(v.a)(new Set(this.state.videos.map(function(e){return e.creation_date}))).reverse()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"PageHome"},c.a.createElement("div",{className:"title1"},"Derni\xe8res vid\xe9os publi\xe9es"),null===this.state.videos?c.a.createElement("div",{className:"PageHome-loading-box"},c.a.createElement(k,null)):0===this.state.videos.length?c.a.createElement("div",{className:"PageHome-loading-box"},c.a.createElement("div",{className:"PageHome-no-article title3"},"Pas de vid\xe9o disponible")):this.getDates().map(function(t){return c.a.createElement("div",null,c.a.createElement("div",{className:"title2"},t),e.state.videos.filter(function(e){return e.creation_date==t}).map(function(e){return c.a.createElement(x,{v:e})}))}))}}]),t}(c.a.Component),C=(a(54),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getCategory=a.getCategory.bind(Object(d.a)(Object(d.a)(a))),a.state={articles:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.call(this,"r/get_articles",function(t){e.setState({articles:t})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})}},{key:"getCategory",value:function(){return Object(v.a)(new Set(this.state.articles.map(function(e){return e.category})))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"PageVote"},c.a.createElement("div",{className:"title1"},"Vote pour les articles du jour !"),null===this.state.articles?c.a.createElement("div",{className:"PageVote-loading-box"},c.a.createElement(k,null)):0===this.state.articles.length?c.a.createElement("div",{className:"PageVote-loading-box"},c.a.createElement("div",{className:"PageVote-no-article title3"},"Pas d'article disponible pour le vote")):this.getCategory().map(function(t){return c.a.createElement("div",null,c.a.createElement("div",{className:"title2"},t),e.state.articles.filter(function(e){return e.category==t}).sort(function(e,t){return e.nb_vote>t.nb_vote}).map(function(e){return c.a.createElement(y,{a:e})}))}))}}]),t}(c.a.Component)),M=(a(56),a(58),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).downloadVideo=a.downloadVideo.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"downloadVideo",value:function(e){(function(e,t,a,n){return w.apply(this,arguments)}).call(this,"r/download_video?video_name="+e,function(t){var a=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.href=a,n.setAttribute("download",e),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"VideoAdmin"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-xs-12 VideoAdmin-picture"},c.a.createElement("img",{src:"img/background_"+this.props.v.category.replace(" ","")+".jpg"})),c.a.createElement("div",{className:"col-md-8 col-xs-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement("div",{className:"Video-title title3"},this.props.v.title)),c.a.createElement("div",{className:"col-md-12 col-xs-12 col-12"},c.a.createElement("div",{className:"Video-category title4"},this.props.v.category)),c.a.createElement("div",{className:"col-md-6 col-xs-6 col-6"},c.a.createElement("div",{className:"Video-link"},null!==this.props.v.youtube_id?c.a.createElement("a",{href:"https://youtube.com/watch?v="+this.props.v.youtube_id,target:"_blank"},"Voir la vid\xe9o"):"")),c.a.createElement("div",{className:"col-md-6 col-xs-6 col-6"},c.a.createElement("div",{className:"Video-article-link"},c.a.createElement("a",{onClick:function(){return e.downloadVideo(e.props.v.file_name.split("/").slice(-1)[0])},href:"#"},"Download ",this.props.v.format," format")))))))}}]),t}(c.a.Component)),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getDates=a.getDates.bind(Object(d.a)(Object(d.a)(a))),a.state={videos:null,selectedVideo:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.call(this,"r/get_videos_of_the_day",function(t){e.setState({videos:t})},function(e){O.NotificationManager.warning(e.statusText)},function(e){O.NotificationManager.error(e.message)})}},{key:"getDates",value:function(){return Object(v.a)(new Set(this.state.videos.map(function(e){return e.creation_date}))).reverse()}},{key:"render",value:function(){return c.a.createElement("div",{id:"PageAdmin"},c.a.createElement("div",{className:"title1"},"Panel d'administration"),null===this.state.videos?c.a.createElement("div",{className:"PageHome-loading-box"},c.a.createElement(k,null)):0===this.state.videos.length?c.a.createElement("div",{className:"PageHome-loading-box"},c.a.createElement("div",{className:"PageHome-no-article title3"},"Pas de vid\xe9o disponible")):this.state.videos.map(function(e){return c.a.createElement(M,{v:e})}))}}]),t}(c.a.Component),S=(a(60),a(62),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).changeMenu=a.changeMenu.bind(Object(d.a)(Object(d.a)(a))),a.state={selectedMenu:"#vote"===window.location.hash?"VOTE":"HOME"},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"changeMenu",value:function(e){this.setState({selectedMenu:e})}},{key:"render",value:function(){return"#PORTESECRETE"==window.location.hash?c.a.createElement("div",{id:"container"},c.a.createElement("div",{id:"content"},c.a.createElement(V,null)),c.a.createElement("div",{id:"background"})):c.a.createElement("div",{id:"container"},c.a.createElement("div",{id:"content"},c.a.createElement("div",{className:"SocialNetwork"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-3 col-xs-12 SocialNetworkLogo"},c.a.createElement("img",{src:"img/Highlite62x200.png"})),c.a.createElement("div",{className:"col-md-3 col-xs-12 SocialNetworkCenter"},c.a.createElement("div",{className:"fb-like","data-href":"https://www.facebook.com/highlite.news","data-width":"","data-layout":"button_count","data-action":"like","data-size":"small","data-share":"false"})),c.a.createElement("div",{className:"col-md-3 col-xs-12 SocialNetworkCenter"},c.a.createElement("a",{href:"https://twitter.com/highlitenews?ref_src=twsrc%5Etfw",className:"twitter-follow-button","data-show-count":"false"},"Follow @highlitenews")),c.a.createElement("div",{className:"col-md-3 col-xs-12 SocialNetworkCenter"},c.a.createElement("div",{className:"g-ytsubscribe","data-channelid":"UCtqK3jsmIpnuIQT105cKr2A","data-layout":"default","data-count":"default"})))),"HOME"==this.state.selectedMenu?c.a.createElement(_,null):"","VOTE"==this.state.selectedMenu?c.a.createElement(C,null):""),c.a.createElement("div",{id:"background"}),c.a.createElement(h,{changeMenu:this.changeMenu}),c.a.createElement(O.NotificationContainer,null))}}]),t}(c.a.Component));l.a.render(c.a.createElement(S,null),document.getElementById("app"))}},[[21,2,1]]]);
//# sourceMappingURL=main.d5a65ab0.chunk.js.map